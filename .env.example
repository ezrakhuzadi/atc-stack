# Copy this file to `.env` and replace the `change-me-*` values.
# Never commit `.env` (it is ignored by `.gitignore`).

# =========================
# ATC Frontend / Server
# =========================
ATC_ENV=development
ATC_FRONTEND_NODE_ENV=development
ATC_FRONTEND_PORT=5050
# ATC_FRONTEND_LOG_REQUESTS=1
ATC_SERVER_PORT=3000
ATC_SERVER_RUST_LOG=info

# Shared tokens (must match across atc-frontend and atc-drone)
ATC_ADMIN_TOKEN=change-me-admin
ATC_REGISTRATION_TOKEN=change-me-registration-token
ATC_WS_TOKEN=change-me-ws-token
ATC_REQUIRE_WS_TOKEN=true

# Optional: if Flight Blender endpoints require auth in your setup
BLENDER_AUTH_TOKEN=

# Terrain throttling (0 = no delay; set >0 to avoid hammering terrain-api)
ATC_TERRAIN_REQUEST_MIN_INTERVAL_MS=0

# Rate limiter IP caps (DoS protection; set to 0 to disable)
ATC_RATE_LIMIT_MAX_IPS=50000
ATC_RATE_LIMIT_ENTRY_TTL_S=600

# Route planner request caps (DoS protection; set to 0 to disable)
ATC_ROUTE_PLANNER_MAX_WAYPOINTS=256
ATC_ROUTE_PLANNER_MAX_DISTANCE_M=200000

# =========================
# Flight Blender (Django)
# =========================
# Required: Django secret
BLENDER_SECRET_KEY=change-me-flight-blender-secret-key

# Demo-only settings (do not use in production)
BLENDER_IS_DEBUG=1
BLENDER_BYPASS_AUTH_TOKEN_VERIFICATION=1
BLENDER_DISABLE_JSON_LOGGING=1
BLENDER_ENABLE_CONFORMANCE_MONITORING=1
BLENDER_USSP_NETWORK_ENABLED=1

# Redis used by Flight Blender + Celery
BLENDER_REDIS_PASSWORD=change-me-blender-redis-password

# Postgres used by Flight Blender
BLENDER_DB_USER=mydatabaseuser
BLENDER_DB_PASSWORD=change-me-blender-db-password
BLENDER_DB_NAME=mydatabase

# DSS client credentials used by Flight Blender when USSP network is enabled
DSS_CLIENT_ID=local-uss-1
DSS_CLIENT_SECRET=change-me-dss-client-secret

# =========================
# Optional data directories
# =========================
# If you want to override the default host paths in docker-compose.yml:
# ATC_OSM_DIR=./data/osm
# ATC_OVERPASS_DB_DIR=./data/overpass-us
# ATC_TERRAIN_DIR=./data/terrain/copernicus

# =========================
# MAVLink Gateway (optional)
# =========================
# MAVLINK_ENDPOINT=udp:0.0.0.0:14550
# ATC_DRONE_ID=DRONE0001
# ATC_OWNER_ID=
# ATC_SESSION_TOKEN=
# ATC_TELEMETRY_HZ=5
